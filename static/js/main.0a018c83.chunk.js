(this.webpackJsonpwebshop=this.webpackJsonpwebshop||[]).push([[0],{29:function(e,t,c){},30:function(e,t,c){},39:function(e,t,c){},41:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var n,a,r=c(0),s=c.n(r),i=c(21),o=c.n(i),j=(c(39),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,54)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))}),l=c(18),u=c(31),b=c(32),d=c(34),O=c(33),h=c(3),p=c(7),m=Object(p.a)(),v=c(10),f=c.n(v),x=c(15),g=c(4),N=(c(29),c(30),c(24)),C=(c(41),c(1)),y=function(e){return Object(C.jsx)("div",{children:Object(C.jsx)("h1",{className:"list-heading",children:e.heading})})},k=function(e){var t=Object(r.useState)([]),c=Object(g.a)(t,2),n=c[0],a=c[1],s=Object(h.f)(),i=function(){var e=Object(x.a)(f.a.mark((function e(){var t,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=7ab73473a05278044ef701c06449633a");case 3:return t=e.sent,e.next=6,t.json();case 6:(c=e.sent).genres&&a(c.genres),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Failed to get data");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){i()}),[]),Object(C.jsxs)("div",{children:[Object(C.jsx)(y,{heading:"Search results"}),Object(C.jsx)("div",{className:"row",children:e.movies.map((function(t,c){return Object(C.jsxs)("div",{className:"list-item",children:[t.poster_path?Object(C.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.poster_path),className:"list-item-image",alt:"movie",onClick:function(){return s.push({pathname:"/MovieDetails",state:{detail:t}})}}):Object(C.jsx)("div",{className:"gray-box",onClick:function(){return s.push({pathname:"/MovieDetails",state:{detail:t}})}}),Object(C.jsx)("h3",{className:"title",children:t.title}),Object(C.jsx)("div",{className:"genre-container",children:t.genre_ids.map((function(e,t){var c=n.find((function(t){return t.id===e}));return c?Object(C.jsx)("div",{className:"genre",children:c.name},t):null}))}),Object(C.jsxs)("div",{className:"price-wrapper",children:[Object(C.jsx)("p",{className:"price",children:"8$"}),Object(C.jsx)(N.a,{className:"shopping-cart-button",size:"2em",onClick:function(){return e.handleBuyClick(t)}})]})]},c)}))})]})},w=function(e){return Object(C.jsx)("div",{className:"col col-sm-4",children:Object(C.jsx)("input",{className:"form-control",value:e.value,onChange:function(t){return e.setSearchValue(t.target.value)},placeholder:"Search here..."})})},S=c(6),_=c(14),F=c(11),D=c(13),B=Object(D.b)("get data from search"),M=Object(D.b)("get data from id"),I=Object(D.b)("get data from trending"),E={getDataFromSearch:B,getDataFromId:M,getDataFromTrening:I},T="7ab73473a05278044ef701c06449633a",A=Object(D.c)({url:null},(n={},Object(_.a)(n,B,(function(e,t){return Object(F.a)(Object(F.a)({},e),{},{url:"https://api.themoviedb.org/3/search/movie?api_key=".concat(T,"&query=").concat(t.payload)})})),Object(_.a)(n,M,(function(e,t){return Object(F.a)(Object(F.a)({},e),{},{url:"https://api.themoviedb.org/3/movie/".concat(t.payload,"?api_key=").concat(T)})})),Object(_.a)(n,I,(function(e,t){return Object(F.a)(Object(F.a)({},e),{},{url:"https://api.themoviedb.org/3/trending/movie/week?api_key=".concat(T)})})),n)),L=c(16),z=Object(D.b)("Add movie to cart"),P=Object(D.b)("Remove movie from cart"),R={addToCart:z,removeFromCart:P},V=Object(D.c)({product:[]},(a={},Object(_.a)(a,z,(function(e,t){return Object(F.a)(Object(F.a)({},e),{},{product:[].concat(Object(L.a)(e.product),[t.payload])})})),Object(_.a)(a,P,(function(e,t){var c=t.payload.id;return Object(F.a)(Object(F.a)({},e),{},{product:e.product.filter((function(e){return e.id!==c}))})})),a)),$=(c(48),c(49),function(e){return Object(C.jsx)("button",{className:"buyButton",onClick:e.handleOnClick,children:e.text})}),G=(c(50),function(e){return Object(C.jsxs)("div",{className:"cartItemContainer",children:[Object(C.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.poster),className:"cartItemPoster",alt:""}),Object(C.jsx)("p",{className:"cartItemTitle",children:e.title})]})}),J=function(){return Object(C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fillRule:"currentColor",className:"bi bi-dash-circle",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(C.jsx)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"})]})},q=function(){var e=Object(S.c)((function(e){return e.shoppingCart.product})),t=Object(r.useState)(!1),c=Object(g.a)(t,2),n=(c[0],c[1],Object(S.b)());if(e!==[]){var a=e.map((function(e,t){return Object(C.jsxs)("div",{className:"movieContainer",children:[Object(C.jsx)(G,{title:e?e.title:"",poster:e?e.poster_path:""}),Object(C.jsx)("div",{onClick:function(){return function(e){return n(R.removeFromCart(e))}(e)},className:"removeCart",children:Object(C.jsx)(J,{})})]},t)}));return Object(C.jsxs)("div",{children:[Object(C.jsx)(y,{heading:"Shopping Cart"}),a,""!=a?Object(C.jsx)("div",{className:"buyButtonShoppingCart",children:Object(C.jsx)($,{text:"Buy"})}):""]})}return Object(C.jsx)("div",{children:Object(C.jsx)("p",{children:"Empty"})})},W=(c(51),function(e){var t=Object(r.useState)([]),c=Object(g.a)(t,2),n=c[0],a=c[1],s=Object(r.useState)([]),i=Object(g.a)(s,2),o=i[0],j=i[1],l=Object(h.f)(),u=function(){var e=Object(x.a)(f.a.mark((function e(){var t,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=7ab73473a05278044ef701c06449633a");case 3:return t=e.sent,e.next=6,t.json();case 6:(c=e.sent).genres&&j(c.genres),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Failed to get data");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=7ab73473a05278044ef701c06449633a").then((function(e){return e.json()})).then((function(e){return a.apply(void 0,Object(L.a)(n).concat([e.results]))})),u()}),[]),Object(C.jsxs)("div",{children:[Object(C.jsx)(y,{heading:"New Movies"}),Object(C.jsx)("div",{className:"row",children:n.map((function(t,c){return Object(C.jsxs)("div",{className:"list-item",children:[t.poster_path?Object(C.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.poster_path),className:"list-item-image",alt:"movie",onClick:function(){return l.push({pathname:"/MovieDetails",state:{detail:t}})}}):Object(C.jsx)("div",{className:"gray-box",onClick:function(){return l.push({pathname:"/MovieDetails",state:{detail:t}})}}),Object(C.jsx)("h3",{className:"title",children:t.title}),Object(C.jsx)("div",{className:"genre-container",children:t.genre_ids.map((function(e,t){var c=o.find((function(t){return t.id===e}));return c?Object(C.jsx)("div",{className:"genre",children:c.name},t):null}))}),Object(C.jsxs)("div",{className:"price-wrapper",children:[Object(C.jsx)("p",{className:"price",children:"8$"}),Object(C.jsx)(N.a,{className:"shopping-cart-button",size:"2em",onClick:function(){return e.handleBuyClick(t)}})]})]},c)}))})]})}),H=function(){var e=Object(r.useState)([]),t=Object(g.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(""),s=Object(g.a)(a,2),i=s[0],o=s[1],j=Object(S.b)(),l=function(e){return j(R.addToCart(e))};""!==i&&j(E.getDataFromSearch(i));var u=Object(S.c)((function(e){return e.apiCall.url})),b=function(){var e=Object(x.a)(f.a.mark((function e(){var t,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(u);case 3:return t=e.sent,e.next=6,t.json();case 6:(c=e.sent).results&&n(c.results),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Failed to get data");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){b(i)}),[i]),Object(C.jsxs)("div",{className:"container",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)(y,{heading:"Movies"}),Object(C.jsx)(w,{searchValue:i,setSearchValue:o})]}),Object(C.jsx)("div",{children:""===i?Object(C.jsx)(W,{handleBuyClick:l}):Object(C.jsx)("div",{className:"row",children:Object(C.jsx)(k,{movies:c,handleBuyClick:l})})}),Object(C.jsx)("div",{className:"row",children:Object(C.jsx)(q,{})})]})},K=(c(52),function(e){var t=Object(h.g)(),c=Object(r.useState)(),n=Object(g.a)(c,2),a=n[0],s=n[1],i=Object(r.useState)(),o=Object(g.a)(i,2),j=o[0],l=o[1],u=Object(r.useState)(),b=Object(g.a)(u,2),d=b[0],O=b[1],p=Object(r.useState)(),m=Object(g.a)(p,2),v=m[0],N=m[1],y=Object(r.useState)([]),k=Object(g.a)(y,2),w=k[0],_=k[1],F=Object(r.useState)(),D=Object(g.a)(F,2),B=D[0],M=D[1],I=Object(r.useState)(),T=Object(g.a)(I,2),A=T[0],z=T[1],P=Object(r.useState)(),V=Object(g.a)(P,2),G=V[0],J=V[1],q=Object(r.useState)([]),W=Object(g.a)(q,2),H=W[0],K=W[1],Q=Object(r.useState)([]),U=Object(g.a)(Q,2),X=U[0],Y=U[1];Object(r.useEffect)((function(){s(t.state.detail.id)}),[t]);var Z=Object(S.b)(),ee=Object(S.c)((function(e){return e.apiCall.url}));null!=a&&Z(E.getDataFromId(a));Object(r.useEffect)((function(){te()}),[a]);var te=function(){var e=Object(x.a)(f.a.mark((function e(){var t,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=15;break}return e.prev=1,e.next=4,fetch(ee);case 4:return t=e.sent,e.next=7,t.json();case 7:c=e.sent,console.log("data: ",c),null!=c&&(l(c.title),O(c.poster_path),N(c.vote_average),_.apply(void 0,Object(L.a)(w).concat([c.genres])),M(c.overview),z(c.Director),J(c.Actors),K.apply(void 0,Object(L.a)(H).concat([c.spoken_languages])),Y.apply(void 0,Object(L.a)(X).concat([c.production_countries]))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("Failed to get data");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),ce=Object(h.f)();return Object(C.jsxs)("div",{className:"movieDetailsContainer",children:[Object(C.jsx)("div",{className:"closeWindow",onClick:function(){ce.push("/")},children:"\u2715"}),j?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("section",{className:"imgBox",children:Object(C.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(d),className:"moviePoster",alt:""})}),Object(C.jsxs)("section",{className:"infoBox",children:[Object(C.jsxs)("section",{className:"topInfo",children:[Object(C.jsx)("h3",{children:j}),Object(C.jsxs)("section",{className:"ratingGenre",children:[Object(C.jsx)("div",{className:"movieRating",children:v})," |",w.map((function(e,t){return Object(C.jsx)("div",{className:"movieGenre",children:e.name},t)}))]}),Object(C.jsx)("div",{className:"moviePlot",children:B}),Object(C.jsxs)("div",{className:"directorName",children:["Director ",Object(C.jsx)("b",{children:A})]}),Object(C.jsxs)("div",{className:"actorsList",children:["Actors ",Object(C.jsx)("b",{children:G})]})]}),Object(C.jsxs)("section",{className:"bottomInfo",children:[Object(C.jsxs)("section",{className:"languageCountry",children:[Object(C.jsxs)("div",{className:"movieLanguage",children:["Language",H.map((function(e,t){return Object(C.jsxs)("b",{children:[" ",e.english_name]},t)}))]}),Object(C.jsxs)("div",{className:"movieCountry",children:["Country",X.map((function(e,t){return Object(C.jsxs)("b",{children:[" ",e.name]},t)}))]})]}),Object(C.jsx)($,{text:"Buy 10$",handleOnClick:function(){return e=t.state.detail,Z(R.addToCart(e));var e}})]})]})]}):Object(C.jsx)("h3",{children:"Loading..."})]})}),Q=function(e){Object(d.a)(c,e);var t=Object(O.a)(c);function c(){return Object(u.a)(this,c),t.apply(this,arguments)}return Object(b.a)(c,[{key:"render",value:function(){return Object(C.jsx)(h.b,{history:m,children:Object(C.jsxs)(h.c,{children:[Object(C.jsx)(h.a,{path:"/",exact:!0,component:H}),Object(C.jsx)(h.a,{path:"/MovieDetails",component:K})]})})}}]),c}(r.Component),U=c(12),X=Object(U.b)({apiCall:A,shoppingCart:V}),Y=Object(D.a)({reducer:X});o.a.render(Object(C.jsx)(l.a,{basename:"/".concat("/webshop"),children:Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(S.a,{store:Y,children:Object(C.jsx)(Q,{})})})}),document.getElementById("root")),j()}},[[53,1,2]]]);
//# sourceMappingURL=main.0a018c83.chunk.js.map